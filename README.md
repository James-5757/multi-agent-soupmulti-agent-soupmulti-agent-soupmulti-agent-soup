# 🧩 Multi-Agent Turtle Soup Solver  
**A multi-agent reasoning system for solving “Turtle Soup / Lateral Thinking Puzzles” using DeepSeek APIs**

本项目实现了一个**多智能体协作的海龟汤解谜系统**：

- 3 类不同风格的 AI 玩家  
- 1 个负责总结的 AI  
- 1 个掌握真相的出题者  
- 自动进行多轮提问、回答、推理与总结  
- 最终输出整场推理日志（含真相）到 Markdown 文件  

支持 DeepSeek 的 `deepseek-chat` 模型。

---

## 📁 项目结构，特点，需求和输出

```bash
.
├── agent.py                # 主程序
├── README.md               # 项目说明



🚀 功能特点
✔ 多 Agent 协作

系统内置 5 个角色：

角色	职责
出题者（RiddleMaster）	掌握真相，用“是 / 不是 / 无关 / 不完全是”进行渐进式回答
逻辑侦探（Logic Detective）	偏重因果链推理，提出高价值问题
怀疑派（Skeptic）	专门抓漏洞、怀疑模糊点
发散派（Divergent Thinker）	从非常规角度提问
总结官（Summary Agent）	每轮总结事实、指路、不剧透
🧩 运行流程概述

程序运行流程如下(Workflow)：

[开始] → [初始化模型和API]
         ↓
[构建谜题库并选择随机谜题]
         ↓
[初始化智能体和历史日志]
         ↓
[开始轮次循环]
         ↓
[逻辑侦探提问 → 出题者回答]
         ↓
[怀疑派提问 → 出题者回答]
         ↓
[创造性思考者提问 → 出题者回答]
         ↓
[总结者提供本轮总结]
         ↓
[检查是否达到最大轮次？] → 否 → 继续循环
         ↓ 是
[输出"游戏结束"并揭示真相]
         ↓
[保存完整对话到Markdown日志]
         ↓
[结束]


🛠️ 环境需求

Python 3.8+

### 依赖库：

openai
python-dotenv (可选)


你需要 DeepSeek API key：

export DEEPSEEK_API_KEY="your_api_key"

🔧 安装依赖
pip install openai python-dotenv

▶️ 运行
python agent.py


运行后，终端会显示多轮推理过程，程序结束后会自动在当前目录生成一份日志：

soup_log_题目名_时间戳.md


日志内容包含：

每轮的提问与回答

总结官的总结

最终完整真相


🧩 示例输出（片段）
----- 第 3 轮提问 -----

逻辑侦探：男人是否在喝汤时意识到自己过去曾误食了某种不该吃的东西？
出题者：是。  
他意识到自己过去所吃的“食物”与现在尝到的真实味道不符，从而推断出当年被隐瞒的真相。

怀疑派：男人过去误食的东西是否与他现在喝的海龟汤属于同一种生物？
出题者：不是。  
他过去误食的东西与现在喝的海龟汤并不属于同一种生物，这与他当时所处的特殊环境有关。

发散派：男人过去误食的东西是否来自他当时所处的特殊环境中的同伴？
出题者：是。  
这与他在特殊环境下所依赖的生存资源有关，并且涉及同伴提供给他的信息与实际情况不符。

===== 第 3 轮小结（总结官） =====
1. 已明确的重要信息：
- 男人因喝汤时尝到与过去经历中不同的味道，意识到当年被隐瞒的真相
- 过去他在特殊环境中依赖同伴提供的生存资源（食物），但信息与实际情况不符
- 他认知到的真相与他过去的经历直接相关，且冲击巨大导致无法承受

2. 建议关注方向：
- 重点思考特殊环境的具体性质（如是否涉及生存危机）
- 注意同伴提供的信息与实际情况产生差异的可能原因
- 探究过去所吃"食物"的真实来源与身份
========================================
